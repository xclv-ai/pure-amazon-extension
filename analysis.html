<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POKPOK.AI - Tone Analysis</title>
    
    <!-- Load CSS styles -->
    <link rel="stylesheet" href="./styles/globals.css">
    
    <style>
        /* Chrome extension specific styles */
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            background: var(--brand-bg-popup);
        }
        
        #extension-root {
            width: 100%;
            height: 100vh;
        }
        
        /* Tab switching visibility */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: flex;
        }
        
        /* Loading state */
        .extension-loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: var(--brand-bg-popup);
            color: var(--brand-text-primary);
            font-family: 'JetBrains Mono', 'Courier New', monospace;
        }
        
        .loading-spinner {
            animation: spin 1s linear infinite;
            margin-right: 12px;
            font-size: 16px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="extension-root">
        <div class="w-full h-full bg-brand-bg-popup overflow-hidden">
            <div class="flex flex-col h-full">
                
                <!-- Header - Fixed at top -->
                <div class="flex-none bg-brand-bg-card border-b border-brand-border-light">
                    <div class="p-4">
                        <div style="background-color: var(--brand-bg-header-teal); border-bottom: 1px solid var(--brand-border-light); padding: 12px 16px; cursor: grab; border-radius: 8px 8px 0 0; position: relative; z-index: 10;">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div id="animated-logo-container">
                                    <!-- Beautiful Animated Logo -->
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="color: var(--brand-accent-yellow); font-size: 18px; font-family: 'JetBrains Mono', monospace; font-weight: 300; letter-spacing: 0.05em;">
                                            <span id="logo-symbol">[—*—]</span> POKPOK.AI
                                        </div>
                                        <div style="color: var(--brand-accent-rose); font-size: 12px; font-family: 'JetBrains Mono', monospace; font-weight: 300;">
                                            Advanced Tone Analysis
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="display: flex; align-items: center;">
                                    <svg style="width: 16px; height: 16px; color: var(--brand-accent-yellow); cursor: pointer; transition: color 0.2s;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Tabs -->
                <div class="flex-none bg-brand-bg-muted border-b border-brand-border-light">
                    <div class="p-4">
                        <div class="flex gap-2">
                            <button id="tab-main" class="tab-button px-4 py-2 text-sm font-jetbrains-medium rounded-lg transition-colors bg-brand-accent-yellow text-brand-text-primary">
                                🎯 Tone Analysis
                            </button>
                            <button id="tab-analysis" class="tab-button px-4 py-2 text-sm font-jetbrains-medium rounded-lg transition-colors bg-brand-bg-card text-brand-text-secondary hover:bg-brand-bg-card hover:text-brand-text-primary border border-brand-border-light">
                                🔬 Deep Analysis
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Main Content Area - Scrollable -->
                <div class="flex-1 overflow-y-auto scrollbar-hide">
                    
                    <!-- Main View (Tone Analysis) -->
                    <div id="main-view" class="tab-content active flex flex-col h-full">
                        <!-- Brand Analysis Cards - Your Beautiful Original Design -->
                        <div class="flex-1 overflow-y-auto">
                            <div class="p-4">
                                <div id="brand-analysis-cards" class="w-full max-w-[400px]">
                                    
                                    <!-- Tone of Voice Analysis Card -->
                                    <div style="border-bottom: 1px dotted var(--brand-border-light);">
                                        <div style="background: white; overflow: hidden;">
                                            <!-- Card Header - Clickable -->
                                            <div id="tone-card-header" style="padding: 12px 16px; cursor: pointer; transition: background-color 0.2s; position: relative; background-color: var(--brand-accent-rose);">
                                                <div>
                                                    <h3 style="font-size: 20px; font-weight: 400; color: var(--brand-text-primary);">
                                                        <span style="font-family: 'JetBrains Mono', monospace; font-weight: 300;">[*]</span> Tone of Voice Analysis
                                                    </h3>
                                                    <p style="font-size: 14px; color: var(--brand-text-secondary); margin-top: 4px;">
                                                        Nielsen's 4-Dimensional Framework
                                                    </p>
                                                </div>
                                                <span style="position: absolute; top: 12px; right: 16px; font-size: 12px; color: var(--brand-text-secondary); transition: color 0.2s;">
                                                    [-]
                                                </span>
                                            </div>

                                            <!-- Tone Dimensions - Collapsible -->
                                            <div id="tone-dimensions" style="padding: 16px;">
                                                <!-- Each dimension will be populated by JS -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Brand Archetypes Mix Card -->
                                    <div style="border-bottom: 1px dotted var(--brand-border-light);">
                                        <div style="background: white; overflow: hidden;">
                                            <!-- Card Header - Clickable -->
                                            <div id="archetypes-card-header" style="padding: 12px 16px; cursor: pointer; transition: background-color 0.2s; position: relative; background-color: var(--brand-bg-header-teal); color: white;">
                                                <div>
                                                    <h3 style="font-size: 20px; font-weight: 400;">
                                                        <span style="font-family: 'JetBrains Mono', monospace; font-weight: 300;">[*]</span> Brand Archetypes Mix
                                                    </h3>
                                                    <p style="font-size: 14px; color: var(--brand-accent-yellow); margin-top: 4px;">
                                                        Jung's 12 Archetypes Framework
                                                    </p>
                                                </div>
                                                <span style="position: absolute; top: 12px; right: 16px; font-size: 12px; color: var(--brand-accent-yellow); transition: color 0.2s;">
                                                    [-]
                                                </span>
                                            </div>

                                            <!-- Archetypes Content - Collapsible -->
                                            <div id="archetypes-content" style="padding: 16px;">
                                                <!-- Spectrum visualization will be populated by JS -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Visual Identity Card -->
                                    <div style="border-bottom: 1px dotted var(--brand-border-light);">
                                        <div style="background: white; overflow: hidden;">
                                            <!-- Card Header - Clickable -->
                                            <div id="visual-card-header" style="padding: 12px 16px; cursor: pointer; transition: background-color 0.2s; position: relative; background-color: var(--brand-accent-rose);">
                                                <div>
                                                    <h3 style="font-size: 20px; font-weight: 400; color: var(--brand-text-primary);">
                                                        <span style="font-family: 'JetBrains Mono', monospace; font-weight: 300;">[*]</span> Visual Identity
                                                    </h3>
                                                    <p style="font-size: 14px; color: var(--brand-text-secondary); margin-top: 4px;">
                                                        Brand Design & Aesthetic Analysis
                                                    </p>
                                                </div>
                                                <span style="position: absolute; top: 12px; right: 16px; font-size: 12px; color: var(--brand-text-secondary); transition: color 0.2s;">
                                                    [-]
                                                </span>
                                            </div>

                                            <!-- Visual Identity Content - Collapsible -->
                                            <div id="visual-content" style="padding: 16px;">
                                                <!-- LOOK & FEEL, PRIMARY PALETTE, DISTINCTIVE ASSETS sections -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Brand Insights Card -->
                                    <div>
                                        <div style="background: white; overflow: hidden;">
                                            <!-- Card Header - Clickable -->
                                            <div id="insights-card-header" style="padding: 12px 16px; cursor: pointer; transition: background-color 0.2s; position: relative; background-color: var(--brand-accent-rose);">
                                                <div>
                                                    <h3 style="font-size: 20px; font-weight: 400; color: var(--brand-text-primary);">
                                                        <span style="font-family: 'JetBrains Mono', monospace; font-weight: 300;">[*]</span> Brand Insights
                                                    </h3>
                                                    <p style="font-size: 14px; color: var(--brand-text-secondary); margin-top: 4px;">
                                                        Strategic Brand Analysis
                                                    </p>
                                                </div>
                                                <span style="position: absolute; top: 12px; right: 16px; font-size: 12px; color: var(--brand-text-secondary); transition: color 0.2s;">
                                                    [-]
                                                </span>
                                            </div>

                                            <!-- Brand Insights Content - Collapsible -->
                                            <div id="insights-content" style="padding: 16px;">
                                                <!-- Brand insights sections -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Analysis Actions -->
                                    <div style="margin-top: 32px; display: flex; flex-direction: column; gap: 12px;">
                                        <button id="analyze-page-btn" style="width: 100%; background-color: var(--brand-accent-yellow); color: var(--brand-text-primary); padding: 12px 16px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-weight: 500; border: none; cursor: pointer; transition: opacity 0.2s;">
                                            📄 Analyze Current Page
                                        </button>
                                        <button id="analyze-selection-btn" style="width: 100%; background-color: white; border: 1px solid var(--brand-border-light); color: var(--brand-text-primary); padding: 12px 16px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-weight: 500; cursor: pointer; transition: background-color 0.2s;">
                                            ✂️ Analyze Selected Text
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Analysis View (Deep Analysis) -->
                    <div id="analysis-view" class="tab-content flex flex-col h-full">
                        <div class="flex-1 overflow-y-auto">
                            <div class="p-4 space-y-8">
                                <!-- Real Content Analyzer -->
                                <div class="bg-brand-bg-card rounded-lg border border-brand-border-light p-4">
                                    <div class="mb-4">
                                        <h3 class="font-jetbrains-medium text-brand-text-primary mb-2">
                                            📄 Real Content Analysis
                                        </h3>
                                        <p class="text-sm text-brand-text-secondary">
                                            Analyze webpage content or selected text elements
                                        </p>
                                    </div>
                                    <div id="real-content-analyzer">
                                        <div class="space-y-4">
                                            <button id="get-page-content-btn" class="w-full bg-brand-accent-teal text-white py-2 px-4 rounded-lg font-jetbrains-medium hover:bg-opacity-90 transition-colors">
                                                📡 Get Page Content
                                            </button>
                                            <div id="content-preview" class="bg-brand-bg-muted p-3 rounded-lg text-sm text-brand-text-secondary min-h-[100px] hidden">
                                                <div class="font-jetbrains-medium mb-2">Content Preview:</div>
                                                <div id="content-text" class="text-xs"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Separator -->
                                <div class="border-t border-brand-border-light my-6"></div>
                                
                                <!-- Compromise Demo -->
                                <div class="bg-brand-bg-card rounded-lg border border-brand-border-light p-4">
                                    <div class="mb-4">
                                        <h3 class="font-jetbrains-medium text-brand-text-primary mb-2">
                                            🔬 Advanced Text Analysis
                                        </h3>
                                        <p class="text-sm text-brand-text-secondary">
                                            Comprehensive linguistic analysis with 8 detailed tabs
                                        </p>
                                    </div>
                                    <div id="compromise-demo">
                                        <div class="space-y-4">
                                            <textarea id="analysis-input" placeholder="Enter text to analyze..." class="w-full h-24 p-3 bg-brand-bg-muted border border-brand-border-light rounded-lg text-sm resize-none"></textarea>
                                            <button id="run-analysis-btn" class="w-full bg-brand-accent-rose text-brand-text-primary py-2 px-4 rounded-lg font-jetbrains-medium hover:bg-opacity-90 transition-colors">
                                                🔍 Run Analysis
                                            </button>
                                            <div id="analysis-results" class="hidden">
                                                <div class="text-sm font-jetbrains-medium text-brand-text-primary mb-2">Analysis Results:</div>
                                                <div class="bg-brand-bg-muted p-3 rounded-lg text-xs text-brand-text-secondary"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Status Bar - Fixed at bottom -->
                <div class="flex-none bg-brand-bg-card border-t border-brand-border-light">
                    <div class="p-3">
                        <div id="status-bar" class="flex items-center justify-between text-xs">
                            <div class="flex items-center space-x-2">
                                <div id="connection-status" class="flex items-center space-x-1">
                                    <div class="w-2 h-2 bg-brand-success rounded-full"></div>
                                    <span class="text-brand-text-secondary">Connected</span>
                                </div>
                            </div>
                            <div class="text-brand-text-tertiary">
                                POKPOK.AI v2.6.0
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Load individual component scripts -->
    <script src="./js/AnimatedLogo.js"></script>
    <script src="./js/BrandAnalysisCards.js"></script>
    <script src="./js/ContentAnalysisSwitch.js"></script>
    <script src="./js/RealContentAnalyzer.js"></script>
    <script src="./js/CompromiseDemo.js"></script>
    <script src="./js/StatusBar.js"></script>
    <script src="./js/Navigation.js"></script>
    
    <!-- Chrome extension communication -->
    <script src="./js/chrome-api.js"></script>
</body>
</html>